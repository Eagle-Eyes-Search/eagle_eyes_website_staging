---
layout: main
title: FAQ - Eagle Eyes
permalink: /faq/
---

<!-- Content -->
<div class="content clearfix reveal-footer">
    <!-- Page Header -->
    <div class="section-block bkg-grey-ultralight" style="padding: 100px 0 30px 0;">
        <div class="row">
            <div class="column width-10 offset-1 center">
                <div style="position: relative; height: 120px; margin-bottom: 20px;">
                    <img src="{{ site.baseurl }}/images/eagle_eyes_faq.png" alt="Eagle Eyes FAQ" style="height: 120px;">
                </div>
                <h1 class="mb-10">Frequently Asked Questions</h1>
            </div>
        </div>
    </div>

    <!-- FAQ Section -->
    <section class="section-block pt-30 pb-90 bkg-white">
        <div class="row">
            <div class="column width-8 offset-2">
                <!-- Search Bar -->
<!--                 <div class="faq-search-container">
                    <form id="faq-search-form" class="faq-search-form">
                        <div class="search-input-wrapper">
                            <input type="text" id="faq-search" placeholder="Ask a question..." required>
                            <button type="submit" class="search-button">
                                <span class="search-icon">üîç</span>
                            </button>
                        </div>
                    </form>
                    <div id="search-loading" class="search-loading" style="display: none;">
                        <div class="eagle-loader">
                            <div class="eagle-wing left-wing">ü¶Ö</div>
                            <div class="eagle-wing right-wing">ü¶Ö</div>
                        </div>
                        <div class="loading-text">Eagle Eyes is searching...</div>
                    </div>
                    <div id="search-error" class="search-error" style="display: none;">
                        <a href="{{ '/contact/' | relative_url }}" style="color: #1e90ff; text-decoration: none;">Couldn't find an exact match. Click here to ask us directly!</a>
                    </div>
                </div> -->

                <div class="faq-container">
                    <!-- FAQ Items -->
                     <div class="faq-item" id="what-is-pilot">
                        <div class="faq-question">
                            ü¶Ö What is Eagle Eyes Pilot? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p><a href="https://streamable.com/0sbrni" class="resource-link" target="_blank">üì∫ Eagle Eye Pilot Release Field Demo</a></p>
                            <p>Eagle Eyes Pilot is an all-in-one drone app for Search and Rescue that detects color and motion anomalies in real time, and streams images and the live drone track directly to the team's CalTopo map, while the drone is still in the air.
                            </p>
                        </div>
                    </div>
                    
                    <div class="faq-item" id="pricing">
                        <div class="faq-question">
                            üí∏ What are the pricing options? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>View our full <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">pricing page</a> for detailed information.</p>
                            
                            <p><em>All Prices are in USD. No auto-renewals</em></p>
                            
                            <table style="width:100%; border-collapse: collapse; margin: 20px 0; background-color: white;">
                                <tr style="border-bottom: 1px solid #eee;">
                                    <th style="padding: 12px; text-align: left; background-color: #f8f9fa;">Plan</th>
                                    <th style="padding: 12px; text-align: left; background-color: #f8f9fa;">Duration</th>
                                    <th style="padding: 12px; text-align: left; background-color: #f8f9fa;">Details</th>
                                    <th style="padding: 12px; text-align: right; background-color: #f8f9fa;">Price</th>
                                </tr>
                                <tr style="border-bottom: 1px solid #eee;">
                                    <td style="padding: 12px;"><strong><a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">Free Trial</a></strong></td>
                                    <td style="padding: 12px;">30 days</td>
                                    <td style="padding: 12px;">No credit card required</td>
                                    <td style="padding: 12px; text-align: right;">$0</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #eee;">
                                    <td style="padding: 12px;"><strong>1 Device</strong></td>
                                    <td style="padding: 12px;">1 year</td>
                                    <td style="padding: 12px;">No auto-renewal</td>
                                    <td style="padding: 12px; text-align: right;">USD $400</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #eee;">
                                    <td style="padding: 12px;"><strong>4 Devices</strong></td>
                                    <td style="padding: 12px;">1 year</td>
                                    <td style="padding: 12px;">No auto-renewal</td>
                                    <td style="padding: 12px; text-align: right;">USD $1000</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #eee;">
                                    <td style="padding: 12px;"><strong>10 Devices</strong></td>
                                    <td style="padding: 12px;">1 year</td>
                                    <td style="padding: 12px;">No auto-renewal</td>
                                    <td style="padding: 12px; text-align: right;">USD $2000</td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px;"><strong>10+ Devices</strong></td>
                                    <td style="padding: 12px;">Custom</td>
                                    <td style="padding: 12px;">Enterprise support</td>
                                    <td style="padding: 12px; text-align: right;">Custom pricing</td>
                                </tr>
                            </table>

                            <p><em>* A verified account is required to purchase a license. Account verification can take 1-3 business days.</em></p>
                            <p><em>* A purchased license can be used on any supported device (<a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=kix.z1er5rw35wkp" class="resource-link" target="_blank">Pilot</a> or <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#bookmark=id.uix6wbgvbsgd" class="resource-link" target="_blank">Scan</a>). Once a device is activated using a license, the device becomes permanently linked to that license and cannot be replaced with a different device. If you need to switch your license to a different device please contact info@eagleeyessearch.com.</em></p>
                        </div>
                    </div>

                    <div class="faq-item" id="free-trial">
                        <div class="faq-question">
                            ‚≠ê Is there a free trial avialable? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, we offer a 30-day free trial of the SAR license. You can <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">request a trial here</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="share-license">
                        <div class="faq-question">
                            üì§ Can I share my license with others? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>We currently only offer <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#heading=h.nllyb2n7j32" class="resource-link" target="_blank">machine-locked licenses</a>, meaning that a license is specific to the device you run the software on. You are free to share your device with other users within your organization. In order to accommodate multiple devices, we offer <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">team licenses</a> that contain multiple keys. A key unlocks the license on a single device. Once issued, keys cannot be revoked or transferred to another device.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="system-requirements">
                        <div class="faq-question">
                            üíª What hardware/system requirements are needed for Eagle Eyes? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Eagle Eyes Pilot runs on <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=kix.z1er5rw35wkp" class="resource-link" target="_blank">Android devices</a> (e.g., Galaxy S10 or newer) running Android 8+ and compatible with DJI SDK-4 or SDK-5, plus at least 2GB of free storage. It can also run on compatible DJI <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.vw1tsrmj2shf" class="resource-link" target="_blank">controllers</a> ‚Äî see compatibility list in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.i8op79jlxy2l" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                            <p>Eagle Eyes Scan runs on MacOS or Windows laptops with at least 8GB RAM (16GB preferred), a CPU supporting AVX (e.g., Intel i3/i5/i7 or AMD Ryzen, 2013+), and does not require a GPU ‚Äî see Specs section in the <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#bookmark=kix.99x5qxo4sqgl" class="resource-link" target="_blank">üìò Eagle Eyes Scan Manual</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="pilot-vs-scan">
                        <div class="faq-question">
                            ‚ö° What's the difference between Eagle Eyes Pilot and Scan? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>
                                <a href="https://streamable.com/ho9epf" class="resource-link" target="_blank">üì∫ Eagle Eyes Pilot</a><br>
                            </p>
                            <ul>
                                <li>An android app for drone controllers and mobile devices</li>
                                <li>Works as a standalone drone piloting app</li>
                                <li>Enables drone piloting, live drone integration with <a href="https://caltopo.com/about/" class="resource-link" target="_blank">CalTopo</a> (SarTopo), live drone location tracking, and sharing of geolocated drones photos from drone to the team Caltopo map during flight. (<a href="https://www.eagleeyessearch.com/pilot" class="resource-link" target="_blank">More on Caltopo integration can be found here</a>)</li>
                                <li>Offers real-time color and motion anomaly detection on the drone controller or mobile device</li>
                                <li>Supports thermal + optical side-by-side viewing</li>
                                <li>Works in offline mode</li>
                                <li><a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#heading=h.vnrae2q60d57" class="resource-link" target="_blank" style="font-weight: 600; font-size: 1.1em;">üìò Eagle Eyes Pilot Manual</a></li>
                            </ul>

                            <p>
                                <a href="https://streamable.com/v5nhsl" class="resource-link" target="_blank">üì∫ Eagle Eyes Scan</a><br>
                            </p>
                            <ul>
                                <li>Desktop software for detailed photo and video computer vision detection</li>
                                <li>Provides live streaming capabilities (drone to Scan software)</li>
                                <li>Features color and motion anomaly detection</li>
                                <li>Supports optical, thermal, and thermal + optical side-by-side viewing</li>
                                <li>Offers advanced inspection tools</li>
                                <li>Provides file organization features</li>
                                <li>Generates reports for export</li>
                                <li>Works in offline mode</li>
                                <li><a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#heading=h.gid4fjjhiq1p" class="resource-link" target="_blank" style="font-weight: 600; font-size: 1.1em;">üìò Eagle Eyes Scan Manual</a></li>
                            </ul>

                            <p>Some features such as drone tracking and photo mapping are currently in development for Eagle Eyes Scan.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="dji-apps-realtime">
                        <div class="faq-question">
                            üïµÔ∏è Can I fly my drone with the DJI app and run Eagle Eyes Detector at the same time? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, you can easily <a href="https://drive.google.com/file/d/1Sx2G2278S4BLxIQW-OvGjy8LWyjR1pRb/view?usp=sharing" class="resource-link" target="_blank">üì∫ switch from your DJI app to Eagle Eyes Pilot app on your drone controller mid flight</a> for live detections while the drone is in the air.</p>
                            <p>Or you can <a href="https://drive.google.com/file/d/1OR5I-Kq5etxbyLfgd30r90BfnILQdJ9X/view?usp=sharing" class="resource-link" target="_blank">üì∫ live stream from your drone controller into Eagle Eyes Scan</a> using an HDMI cable.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="switch-apps-midflight">
                        <div class="faq-question">
                            üîÄ Can I switch from my DJI drone app to Eagle Eyes Pilot and back midflight? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, you can easily <a href="https://drive.google.com/file/d/1Sx2G2278S4BLxIQW-OvGjy8LWyjR1pRb/view?usp=sharing" class="resource-link" target="_blank">üì∫switch from your DJI app to Eagle Eyes Pilot app</a> on your drone controller mid flight.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="mac-ios-support">
                        <div class="faq-question">
                            Ô£ø Does Eagle Eyes Scan run on Mac or iOS? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Eagle Eyes Scan runs on both Windows and MacOS/OSX. For Apple devices, we strongly recommend installing on a device with ARM64 architecture (M1, M2, M3, or M4 chipsets). We do offer a distribution for Intel-based (x86) Apple computers, but performance may vary. Find more information in the <a href="https://docs.google.com/document/d/12mhRVmhtQUfvJHy7tI7mB_oLd3aRqYJJPWzKlhKnTwY/edit?tab=t.0#bookmark=kix.99x5qxo4sqgl" class="resource-link" target="_blank">üìò Eagle Eyes Scan Manual</a>.</p>
                            <p>Eagle Eyes does not support iOS due to DJI dropping iOS SDK support. Find more information in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.i8op79jlxy2l" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="offline-support">
                        <div class="faq-question">
                            üåê Does the software work offline? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes. Both Eagle Eyes Scan and Pilot works completely offline. The only thing you need the internet for is to get a license key to unlock the software on your device once.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="compatible-drones">
                        <div class="faq-question">
                            üöÅ What drones are compatible with Eagle Eyes? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Eagle Eyes Pilot supports a wide range of DJI drones via two versions: sdk5 (Mavic 3T, M30T, Mini 3 Pro, etc.) and sdk4 (Mini 2, Air 2S, Mavic 2 Enterprise Dual, etc.) ‚Äî see compatibility list in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.xe20wqfx2ir1" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="thermal-detection">
                        <div class="faq-question">
                            üî• Does the detector work with thermal footage? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>The detector is particularly good at detecting motion in thermal and less so with color.</p>
                            <p>See this <a href="https://drive.google.com/file/d/1_FR4EzRXbpqfNK-WIyMtYCc5hwwsvdnS/view?usp=sharing" class="resource-link" target="_blank">üì∫ video explaining thermal and motion detection in Eagle Eyes Pilot</a> ü¶ñ</p>
                        </div>
                    </div>

                    <div class="faq-item" id="detector-modes">
                        <div class="faq-question">
                            üî≠ What is the difference between the different detector modes? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p><a href="https://drive.google.com/file/d/1XZ8aEAr3r7jBLEVDEf15IXH2ahBTDoPT/view?usp=sharing" class="resource-link" target="_blank">üì∫ This 1-minute video explains the different detector settings.</a></p>
                            <p><img src="{{ site.baseurl }}/images/detector_modes.png" alt="Detector Modes"></p>
                            <ul>
                                <li>üëÅÔ∏è <strong>Normal mode</strong> = only shows highest scoring detections</li>
                                <li>üëÄ <strong>Hyper-sensitive mode</strong> = shows all detections</li>
                                <li>üíæ <strong>Silent mode</strong> = recording detections in the background but not visible on screen</li>
                                <li>‚úñÔ∏è <strong>Off</strong> = detector is not running</li>
                            </ul>
                            <p>See the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#heading=h.yzsq2hhn1dmd" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a> for more details.</p>
                        </div>
                    </div>

                    <div class="faq-item" id="capture-photos">
                        <div class="faq-question">
                            üì∑ Can I run the detector on full-res drone photos mid-flight? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes. See this <a href="https://drive.google.com/file/d/1bABEy3e8966vd97QWoizVcWsls96kPAJ/view?usp=sharing" class="resource-link" target="_blank">üì∫ video on how to download HD photos with Eagle Eyes Pilot</a> while the drone is still in the air.</p>
                            <p>Select the "Capture Photo" button:</p>
                            <p><img src="{{ site.baseurl }}/images/capture_photo.png" alt="Capture Photo Button"></p>
                            <p>Unselect current view and select visual and thermal (if thermal is desired), then "capture".</p>
                            <p><img src="{{ site.baseurl }}/images/capture_photo2.png" alt="Capture Photo Settings"></p>
                        </div>
                    </div>

                    <div class="faq-item" id="caltopo-photos">
                        <div class="faq-question">
                            üó∫Ô∏è Can I send full-res photos from the drone to CalTopo while the drone is still in the air? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes. See this <a href="https://drive.google.com/file/d/1bABEy3e8966vd97QWoizVcWsls96kPAJ/view?usp=sharing" class="resource-link" target="_blank">üì∫ video on how to download HD photos with Eagle Eyes Pilot</a> while the drone is still in the air.</p>
                            <p><a href="https://drive.google.com/file/d/1Ej-h2UAq9p-9MHiqq_7FdLRSivak9BCS/view?usp=sharing" class="resource-link" target="_blank">üì∫ Connect the drone controller to Caltopo</a>.</p>
                            <p>Select the "Capture Photo" button:</p>
                            <p><img src="{{ site.baseurl }}/images/capture_photo.png" alt="Capture Photo Button"></p>
                            <p>Unselect current view and select visual and thermal (if thermal is desired), then "capture".</p>
                            <p><img src="{{ site.baseurl }}/images/capture_photo2.png" alt="Capture Photo Settings"></p>
                        </div>
                    </div>

                    <div class="faq-item" id="controller-setup">
                        <div class="faq-question">
                            üéÆ How do I set up Eagle Eyes on my drone controller? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>Refer to <a href="https://youtu.be/ymvOa8BRwXg?feature=shared" class="resource-link" target="_blank">this video</a> for setup instructions.</p>
                            <p>See detailed instructions in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#heading=h.ct1etys88ylm" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a>.</p>
                            <ol>
                                <li>Install via the Firebase link you receive by email after purchasing or getting approved for a free trial</li>
                                <li>Grant app permissions</li>
                                <li>Activate your license</li>
                                <li>Connect controller to drone and press "FLY"</li>
                            </ol>
                        </div>
                    </div>

                    <div class="faq-item" id="connect-caltopo">
                        <div class="faq-question">
                            üó∫Ô∏è How do I connect to Caltopo? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>1-minute video with step-by-step instructions:<a href="https://drive.google.com/file/d/1Ej-h2UAq9p-9MHiqq_7FdLRSivak9BCS/view?usp=drive_link" class="resource-link" target="_blank"> üì∫ Connecting to your teams Caltopo Map in Eagle Eyes Pilot</a></p>
                            <ol>
                                <li>Select Fly in Eagle Eyes Pilot</li>
                                <li>Select the three lines at the top right of the screen</li>
                                <li>Select "Connect to Caltopo"</li>
                                <li>Sign into Caltopo</li>
                                <li>Choose the map from "Your Data" in Caltopo (double tap to select)</li>
                            </ol>
                            <p>See additional instructions in the <a href="https://docs.google.com/document/d/1Uq8lHS-V7B7ekQ9h6gRrnnclu9vuM4zKRBzB3tS0fGQ/edit?tab=t.0#bookmark=id.me3hnlz43xno" class="resource-link" target="_blank">üìò Eagle Eyes Pilot Manual</a></p>
                        </div>
                    </div>

                    <div class="faq-item" id="app-store">
                        <div class="faq-question">
                            üõí  Is Eagle Eyes available on the iOS App Store or Google Play? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>The app is available for <a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">download through our website</a> and not available on the app store. No iOS version is planned due to DJI dropping iOS SDK support (<a href="{{ '/pricing/' | relative_url }}" class="resource-link" target="_blank">find more details here</a>).</p>
                        </div>
                    </div>

                    <div class="faq-item" id="privacy">
                        <div class="faq-question">
                            üîí What is Eagle Eyes' privacy and data security policy? <span class="toggle-icon">+</span>
                        </div>
                        <div class="faq-answer">
                            <p>You can view our full <a href="https://docs.google.com/document/d/1iRn_idL4gx7XhqIi5FhQy8Er_k9qxHjEBUwWCgJUI6M/edit?usp=sharing" class="resource-link" target="_blank">privacy policy here</a>. In short: your data always stays local, under your control, and is never uploaded to our servers.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {% include footer.html %}
</div>

<!-- Js -->
<!-- These scripts are already included in the main layout, so remove them -->
<!-- <script src="js/jquery-3.2.1.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC3JCAhNj6tVAO_LSb8M-AzMlidiT-RPAs"></script>
<script src="js/jquery.tm.avalanche.js"></script>
<script src="js/timber.master.min.js"></script> -->

<!-- FAQ Toggle Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const faqQuestions = document.querySelectorAll('.faq-question');
    
    // Function to open a specific FAQ item
    function openFaqItem(faqItem) {
        // Close all other FAQ items first
        faqQuestions.forEach(otherQuestion => {
            otherQuestion.parentNode.classList.remove('active');
        });
        
        // Open the specified item
        faqItem.classList.add('active');

        // Scroll the item into view
        setTimeout(() => {
            const rect = faqItem.getBoundingClientRect();
            const absoluteTop = window.pageYOffset + rect.top;
            const headerOffset = 100; // Adjust this value based on your header height
            const elementPosition = absoluteTop - headerOffset;
            
            window.scrollTo({
                top: elementPosition,
                behavior: 'smooth'
            });
        }, 100);
    }

    // Handle click events on FAQ questions
    faqQuestions.forEach(question => {
        question.addEventListener('click', function() {
            const parent = this.parentNode;
            if (!parent.classList.contains('active')) {
                openFaqItem(parent);
                // Update URL hash without triggering scroll
                const id = parent.getAttribute('id');
                history.pushState(null, null, `#${id}`);
            } else {
                parent.classList.remove('active');
                history.pushState(null, null, window.location.pathname);
            }
        });
    });

    // Handle initial load and hash changes
    function handleHash() {
        const hash = window.location.hash.substring(1);
        if (hash) {
            const targetFaq = document.getElementById(hash);
            if (targetFaq) {
                openFaqItem(targetFaq);
            }
        }
    }

    // Handle hash changes
    window.addEventListener('hashchange', handleHash);

    // Handle initial load
    handleHash();
});
</script>

<!-- FAQ Search Functionality -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const searchForm = document.getElementById('faq-search-form');
    const searchInput = document.getElementById('faq-search');
    const searchError = document.getElementById('search-error');
    const searchResults = document.createElement('div');
    searchResults.className = 'search-results';
    searchForm.parentNode.insertBefore(searchResults, searchError);

    searchForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        const question = searchInput.value.trim();
        
        if (!question) return;

        let retryCount = 0;
        const maxRetries = 5;
        let foundMatch = false;

        // Show initial eagle loader
        const loadingContainer = document.getElementById('search-loading');
        loadingContainer.innerHTML = `
            <div class="eagle-loader">
                <div class="eagle-wing left-wing">ü¶Ö</div>
                <div class="eagle-wing right-wing">ü¶Ö</div>
            </div>
            <div class="loading-text">Eagle Eyes is searching...</div>
        `;
        loadingContainer.style.display = 'block';
        searchResults.innerHTML = ''; // Clear previous results

        while (retryCount < maxRetries && !foundMatch) {
            try {
                // Hide any previous error
                searchError.style.display = 'none';

                // Show transition animation between retries
                if (retryCount > 0) {
                    loadingContainer.innerHTML = `
                        <div class="eagle-loader">
                            <div class="magnifying-glass">üîç</div>
                        </div>
                        <div class="loading-text">Digging deeper...</div>
                    `;
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    // Return to eagle animation
                    loadingContainer.innerHTML = `
                        <div class="eagle-loader">
                            <div class="eagle-wing left-wing">ü¶Ö</div>
                            <div class="eagle-wing right-wing">ü¶Ö</div>
                        </div>
                        <div class="loading-text">Eagle Eyes is searching...</div>
                    `;
                }

                // Call the backend proxy
                const response = await fetch('http://localhost:3000/ask-faq', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        question,
                        retryCount: retryCount + 1,
                        searchStrategy: retryCount + 1  // Different strategy for each retry
                    }),
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const data = await response.json();
                const faqId = data.faqId;

                if (faqId === '#no-match') {
                    retryCount++;
                    if (retryCount < maxRetries) {
                        continue;
                    }
                    loadingContainer.style.display = 'none';
                    searchError.style.display = 'block';
                    return;
                }

                foundMatch = true;
                loadingContainer.style.display = 'none';

                // Find the FAQ item
                const faqItem = document.getElementById(faqId.replace('#', ''));
                if (faqItem) {
                    // Get the question text
                    const questionText = faqItem.querySelector('.faq-question').textContent.trim();
                    
                    // Create and display the result link
                    const resultLink = document.createElement('a');
                    resultLink.href = `#${faqId.replace('#', '')}`;
                    resultLink.className = 'search-result-link';
                    resultLink.textContent = questionText;
                    
                    // Add click handler
                    resultLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        
                        // Close all other FAQ items
                        document.querySelectorAll('.faq-item').forEach(item => {
                            item.classList.remove('active');
                        });

                        // Open the found FAQ item
                        faqItem.classList.add('active');
                        
                        // Update URL hash
                        history.pushState(null, null, `#${faqId.replace('#', '')}`);
                        
                        // Scroll to the FAQ item
                        setTimeout(() => {
                            const rect = faqItem.getBoundingClientRect();
                            const absoluteTop = window.pageYOffset + rect.top;
                            const headerOffset = 100;
                            const elementPosition = absoluteTop - headerOffset;
                            
                            window.scrollTo({
                                top: elementPosition,
                                behavior: 'smooth'
                            });
                        }, 100);
                    });

                    searchResults.innerHTML = '';
                    searchResults.appendChild(resultLink);
                }
            } catch (error) {
                console.error('Error:', error);
                loadingContainer.style.display = 'none';
                searchError.textContent = 'An error occurred while searching. Please try again.';
                searchError.style.display = 'block';
                break;
            }
        }
    });
});
</script>

<!-- FAQ Styling -->
<style>
.faq-container {
    width: 100%;
}

.faq-item {
    margin-bottom: 0;
    border-bottom: 1px solid #f0f0f0;
}

.faq-question {
    background-color: #fff;
    padding: 15px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    transition: all 0.3s ease;
}

.faq-question:hover {
    color: #1e90ff;
}

.toggle-icon {
    font-size: 18px;
    font-weight: bold;
    color: #999;
    transition: all 0.3s ease;
}

.faq-item.active .toggle-icon {
    transform: rotate(45deg);
    color: #1e90ff;
}

.faq-answer {
    display: none;
    padding: 0 15px 20px 15px;
    background-color: #fff;
    border-top: none;
}

.faq-item.active .faq-answer {
    display: block;
}

.faq-search-container {
    margin-bottom: 30px;
}

.faq-search-form {
    width: 100%;
}

.search-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

#faq-search {
    width: 100%;
    padding: 12px 20px;
    padding-right: 50px;
    border: 2px solid #e0e0e0;
    border-radius: 4px;
    font-size: 16px;
    transition: all 0.3s ease;
}

#faq-search:focus {
    outline: none;
    border-color: #1e90ff;
    box-shadow: 0 0 0 2px rgba(30, 144, 255, 0.1);
}

.search-button {
    position: absolute;
    right: 0;
    top: 0;
    height: 100%;
    padding: 0 15px;
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
}

.search-icon {
    font-size: 18px;
    color: #666;
    transition: color 0.3s ease;
}

.search-button:hover .search-icon {
    color: #1e90ff;
}

.search-error {
    margin-top: 15px;
    margin-bottom: 20px;
    font-size: 15px;
    text-align: center;
    line-height: 1.5;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 6px;
    border: 1px solid #e0e0e0;
    cursor: pointer;
    transition: all 0.3s ease;
}

.search-error:hover {
    background-color: #e9ecef;
    border-color: #1e90ff;
}

.search-error a {
    display: block;
    width: 100%;
    height: 100%;
}

.search-loading {
    text-align: center;
    margin: 20px 0;
}

.eagle-loader {
    display: inline-block;
    position: relative;
    width: 150px;
    height: 40px;
}

.eagle-wing {
    position: absolute;
    font-size: 24px;
    animation: flap 1s infinite ease-in-out;
}

.left-wing {
    left: 30px;
    transform-origin: right center;
    animation-name: flapLeft;
}

.right-wing {
    right: 30px;
    transform-origin: left center;
    animation-name: flapRight;
}

.magnifying-glass {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    font-size: 24px;
    color: #1e90ff;
    animation: wave 1s infinite ease-in-out;
}

.loading-text {
    margin-top: 10px;
    color: #1e90ff;
    font-size: 16px;
    font-weight: 500;
}

@keyframes wave {
    0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
    25% { transform: translate(-50%, -50%) rotate(15deg); }
    75% { transform: translate(-50%, -50%) rotate(-15deg); }
}

@keyframes flapLeft {
    0%, 100% { transform: rotate(0deg) scaleX(-1); }
    50% { transform: rotate(-20deg) scaleX(-1); }
}

@keyframes flapRight {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(20deg); }
}

.search-results {
    margin: 15px 0;
    text-align: center;
}

.search-result-link {
    display: inline-block;
    padding: 10px 20px;
    background-color: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    color: #1e90ff;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
}

.search-result-link:hover {
    background-color: #e9ecef;
    border-color: #1e90ff;
    transform: translateY(-2px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
</style> 
