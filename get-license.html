---
layout: ee_page_layout
title: Unlock Eagle Eyes Scan
permalink: /get-license/
---

<head>

    <!-- Include Firebase SDK -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="{{ site.baseurl }}/js/get-license.js"></script>

    <!-- Include form_buttons_and_boxes.scss (it's in scss/form_buttons_and_boxes.scss) but we need to get it in liquid -->
    <style src="{{ site.baseurl }}/css/form_buttons_and_boxes.css"></style>
    <link rel="stylesheet" href="{{ site.baseurl }}/css/form_buttons_and_boxes.css">
    <style src="{{ site.baseurl }}/css/custom-styling.css"></style>


</head>


<body>
    <script>
        $("#checking-licenses-box").hide();
    </script>

    <h1>Unlock all features Eagle Eyes Scan on your device</h1>
    <p>
        To unlock Eagle Eyes Scan, you need to get a <b class="tooltip">license key
        <span class="tooltiptext">A license key is a code that unlocks all features of the software on your device.  It looks like: <br/>X2SBUDUKXA3ZWCIK2VA6QLHDLO4QG6JDGJYUP274IRBVICAW4WIDOJV3GPVBP6JP3J26OHLULFKEWSU6PNIM3BWL6I7JEPQNV2HPB4IOHA7OW7MF6X3BVQILINJBSXKVNZM5DH6OQE3WZDCYEVBYSKFYVA5TJFYFSSYXQ3MCKZVD73OPYD3NXSNPIKOB5OL7QNJWUVW7FPUUPWDJ25WG5SQKLGXPQMXYN2MDSYHI23FVST5IGCZQ7IKMUDHXPFDJVBZRBVZMLIHVC3H24HCUWJMBU4SSLNRDEQ2U4ZNSAKCMBC4E3WRQON2A26VBVJMCE2GB7MTZHIMYEOM3SHSGJTEUZXRKPDFSNOFWEIPWZKG4K3I7F4VALILISI3AWFLBY26HWIEWDZMYIVHDKZJTEETRB3DRZ2C6X3WM7I7OPBOUIZ2ZJEAOSXGFLCSS7IQGJWUXSZHSGXJ3ZTPBL5IW7LF47CWENSSFJ7PPCIFL</span></b>
        and enter it into the app.
    </p>
    <p>
        To get a license key, you first buy a <b class="tooltip">license
        <span class="tooltiptext">A license has some number of keys, an expiry date, and is identified by a license-id like jI9Y9kg8oK3w2yf2</span></b>
        or select an existing one, and then issue a key from that license.  If someone on your team has already purchased a license, you can find that license
        below by searching for it by <b class="tooltip">license-ID<span class="tooltiptext">A license ID is a code like jI9Y9kg8oK3w2yf2</span></b>.
    </p>
    <div class="info-box" id="using-emulator-info" hidden>Using local Firebase emulator</div>

    <!-- Show the machine ID -->
    <p>
        <!-- Machine ID: <span id="machine-id">(None provided)</span> -->

        <span class="tooltip">Machine ID
            <span class="tooltiptext">
                The machine ID is a unique identifier for your device - it will be filled out automatically when you access this page via the "üîë" button in the Eagle Eyes Scan app
            </span>
        </span>: <span id="machine-id">(None provided)</span>


        <button onclick="openMachineIdDialog()" , class="non_important_button">Change</button>

        <dialog id="machine-id-dialog">
            <h3>Enter Machine ID</h3>
            <input type="text" id="new-machine-id" placeholder="Enter new Machine ID">
            <button onclick="updateMachineId()"
                style="display: inline-block; padding: 5px 10px; font-size: 12px;">Change</button>
            <button onclick="closeMachineIdDialog()"
                style="display: inline-block; padding: 5px 10px; font-size: 12px;">Cancel</button>
        </dialog>
    </p>
    
    <h2>Step 1: Sign in</h2>

    {% include signinWidget.html %}

    <!-- <button onclick="checkLicense()">Check again for available licenses and tokens</button> -->
    <script>

        // On document load, run fillMachineIDFromArgs();
        document.addEventListener('DOMContentLoaded', function () {
            fillMachineIDFromArgs();
        });

        document.addEventListener('signInComplete', function (e) {
            /* Handle the event:
            CustomEvent('signInComplete', { detail: { user: user } })
            Generated by the signinWidget.html inclusion
            */
            console.log('signin complete triggered');
            globalUser = e.detail.user;
            console.log('signInComplete event received: ' + globalUser);

            $("#choose-license").show();
            checkLicenseIDFromArgsAndUpdateAvailableLicenses()
            // checkURLParameters();
            // checkLicense()
            // Scroll to bottom of #choose-license div
            $("#choose-license").get(0).scrollIntoView();
        });
        // document.addEventListener('signInComplete', function (e) {
        //     /* Handle the event:
        //     CustomEvent('signInComplete', { detail: { user: user } })
        //     Generated by the signinWidget.html inclusion
        //     */
        //     console.log('signin complete triggered');
        //     globalUser = e.detail.user;
        //     console.log('signInComplete event received: ' + globalUser);

            
        //     checkURLParameters();
        //     checkLicense()
        //     // Scroll to bottom of #choose-license div
        //     // $("#choose-license").get(0).scrollIntoView();
        //     // Do it on a 1s timer
        //     // $("#choose-license").show();
        //     // requestAnimationFrame(() => {
        //     //     requestAnimationFrame(() => {
        //     //         $("#choose-license").get(0).scrollIntoView({ behavior: 'smooth' });
        //     //     });
        //     // });
        // });

    </script>
    <br />

    <section id="choose-license" hidden>

        <h2>Step 2: Choose where to get your license</h2>
        <div id="licenses-found-info" class="info-box">‚è≥ Checking available licenses...</div>
        <div id='step2-button-container' class="button-container">
            <button id="btn-use-existing" onclick="$('#licenses').show(); scrollToBottomWithDelay()">Use an existing license</button>
            <button id='purchase' onclick="onClickBuy()">Purchase a new license</button>
        </div>
        <div id="payment-successful-message" class="info-box" hidden></div>
    </section>
    <br/>

    <!-- {% assign tiers = "Basic, $50 one time; SAR, $50/month" | split: "; " %} -->


    <!-- Just make tiers lower case: ('basic', 'sar')-no f-->

    <section id="licenses" hidden>
        <h2>Step 3: Select an existing license</h2>
        <div class="container">
            <!-- Box for License Selection and Details -->
            <div class="box license-box">
                <div class="input-label">
                    Use a license already connected to account:
                </div>
                <!-- <div id="checking-licenses-box" class="info-box" hidden>Checking available licenses...</div> -->
                <!-- With default text "no licenses found" -->
                <select id="license-select">
                    <!-- options will be dynamically populated -->
                </select>
                <textarea id="license-info" class="license-info-box" placeholder="" readonly></textarea>
                <!-- <select id="license-select" style="width: 100%; box-sizing: border-box;"></select> -->
                <!-- <textarea id="license-info"
                    style="width: 100%; height: 6em; overflow-y: auto; white-space: pre-wrap;"
                    readonly></textarea> -->
                <div class="button-container button">
                    <button id="selectLicenseButton" onclick="selectLicense()">Select License</button>
                </div>
                <div id="select-license-info" class="info-box" hidden></div>
            </div>
            
            <!-- Spacer between the two boxes -->
            <div class="spacer"></div>
    
            <!-- Box for Entering License ID -->
            <div class="box">
                <div class="input-label">
                    ... Or enter License ID to connect to your account:
                    <!-- <span title="If your email is not associated with a license, you can enter the license ID here">‚ÑπÔ∏è</span> -->
                    <!-- Use the tooltop like above -->
                    <span class="tooltip">‚ÑπÔ∏è
                        <span class="tooltiptext">If your organisation has a license available, you can attach it to your account by entering the license ID below</span>
                    </span>
                </div>
                <input type="text" id="license-id" placeholder="(e.g. jI9Y9kg8oK3w2yf2)" style="width: 100%;">
                <div class="button-group">
                    <button onclick="reCheckLicense()" id="re-check-button" class="non_important_button">Re-check</button>
                </div>
            </div>
        </div>
    </section>

    <section id="issue-key" hidden>
        <h2>Step 4: Issue a key for your device</h2>
        <div id="issue-key-info" class="info-box"></div>
        <div class="container">
            <!-- Box for License Selection and Details -->
            <div class="box license-box">
                <div class="input-label">Selected license</div>
                <textarea id="second-license-info-box" class="license-info-box" placeholder="" readonly></textarea>
                <div class="button-container button">
                    <button id="issueKeyButton" class='invisible-button'>Issue Key</button>
                </div>
                <div id="issue-key-info" class="info-box" hidden></div>
            </div>
            
            <!-- Spacer between the two boxes -->
            <div class="spacer"></div>
        </div>
        <div></div>
        <div></div>
    </section>

    

    <!-- <button onclick="onClickRequestKey()">Get Key</button> -->

    <section id="key-view" hidden>

        <h2>Step 5: Copy key into Eagle Eyes Scan</h2>
        <!-- Box for showing key ID -->
        <div class="box license-box">
            <div class="input-label">Your key</div>
            <textarea id="license-key" class="license-info-box" placeholder="" readonly></textarea>
            <div class="button-container button">
            </div>
            <div class="button-group">
                <button id='license-key-copy-button'>Copy Key</button>
            </div>
        </div>
        <div id="license-key-status"></div>
    </section>

    <div id="final-status-box" hidden></div>

    <div id="end-of-page"> </div>
    <!-- Leave a little space on the bottom -->
    <br />
    <br />
</body>
